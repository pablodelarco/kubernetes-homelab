persistence:
  enabled: true
  accessMode: ReadWriteOnce
  size: 5Gi
  storageClass: null
  mountPath: /home/node/.n8n

ingress:
  enabled: true
  className: tailscale
  annotations:
    tailscale.com/funnel: "true"
  hosts:
    - host: n8n
      paths:
        - /
  tls:
    - hosts:
        - n8n

main:
  config:
    n8n:
      webhookUrl: "https://abnormally-obliging-grouse.ngrok-free.app"
      host: "abnormally-obliging-grouse.ngrok-free.app"
      protocol: "https"
      port: 80  # Tell n8n internally you want it to think it runs at 80
      publicApiBaseUrl: "https://abnormally-obliging-grouse.ngrok-free.app" # Recommended too for API endpoints (optional, but clean)
  secret: {}

  service:
    type: LoadBalancer
    port: 80